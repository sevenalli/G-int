<div class="dashboard-container">
    <!-- Dashboard Header -->
    <div class="dashboard-header">
        <h2>Suspension </h2>
        <div class="system-status">
            <span class="status-indicator online"></span>
            System Online
        </div>
    </div>
    
    <!-- Dashboard Content -->
    <div class="dashboard-content">
        <!-- Left Column - Motor Status and Gauges -->
        <div class="dashboard-column main-column">
            <!-- Motor Status Card -->
            <div class="dashboard-card motor-status-card">
                <div class="card-header">
                    <h4><i class="fas fa-cog"></i> Motor Status</h4>
                    <span class="status-badge operational">Operational</span>
                </div>
                <div class="card-content">
                    <div class="motor-display">
                        <img [src]="motorImage" alt="Motor Status" class="motor">
                        <div class="isssue">
                            <button 
                            class="status-toggle-btn btn bg-secondary "
                            (click)="toggleMotorImage()"
                        >
                            Toggle Issue
                        </button>
                        </div>
                       
                    </div>
                </div>
            </div>
            
            <!-- Gauges Card -->
            <div class="dashboard-card gauges-card">
                <div class="card-header">
                    <h4><i class="fas fa-tachometer-alt"></i> Motor Parameters</h4>
                    <span class="refresh-indicator">Auto-refresh: <span class="blink">‚óè</span></span>
                </div>
                <div class="card-content">
                    <div class="gauges-row">
                        <!-- Current Gauge -->
                        <div class="gauge-container">
                            <h5>COURANT D'INDUIT</h5>
                            <ngx-gauge 
                                [type]="'semi'"
                                [value]="currentValue"
                                [min]="currentMin"
                                [max]="currentMax"
                                [thresholds]="currentThresholdConfig"
                                [label]="'Current'"
                                [append]="'A'"
                                [thick]="15"
                                [size]="200"
                                [foregroundColor]="'rgba(0, 150, 136, 1)'"
                                [backgroundColor]="'rgba(0, 0, 0, 0.1)'"
                            ></ngx-gauge>
                        </div>
                        
                        <!-- Voltage Gauge -->
                        <div class="gauge-container">
                            <h5>TENSION D'INDUIT</h5>
                            <ngx-gauge 
                                [type]="'semi'"
                                [value]="voltageValue"
                                [min]="voltageMin"
                                [max]="voltageMax"
                                [thresholds]="voltageThresholdConfig"
                                [label]="'Voltage'"
                                [append]="'V'"
                                [thick]="15"
                                [size]="200"
                                [foregroundColor]="'rgba(33, 150, 243, 1)'"
                                [backgroundColor]="'rgba(0, 0, 0, 0.1)'"
                            ></ngx-gauge>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Right Column - Charts and Analytics -->
        <div class="dashboard-column side-column">
            <!-- Load Monitoring Card -->
            <div class="dashboard-card chart-card">
                <div class="card-header">
                    <h4><i class="fas fa-chart-line"></i> Load Monitoring</h4>
                    <div class="time-controls">
                        <button
                            (click)="updateOptions('1m')"
                            [class.active]="activeOptionButton=='1m'"
                        >
                            1M
                        </button>
                        <button
                            (click)="updateOptions('6m')"
                            [class.active]="activeOptionButton=='6m'"
                        >
                            6M
                        </button>
                        <button
                            (click)="updateOptions('1y')"
                            [class.active]="activeOptionButton=='1y'"
                        >
                            1Y
                        </button>
                        <button
                            (click)="updateOptions('1yd')"
                            [class.active]="activeOptionButton=='1yd'"
                        >
                            YTD
                        </button>
                        <button
                            (click)="updateOptions('all')"
                            [class.active]="activeOptionButton=='all'"
                        >
                            All
                        </button>
                    </div>
                </div>
                <div class="card-content">
                    <div class="chart-container">
                        <apx-chart
                            *ngIf="chartOptions"
                            #chart
                            [series]="chartOptions.series"
                            [chart]="chartOptions.chart"
                            [colors]="chartOptions.colors"
                            [yaxis]="chartOptions.yaxis"
                            [dataLabels]="chartOptions.dataLabels"
                            [markers]="chartOptions.markers"
                            [stroke]="chartOptions.stroke"
                            [fill]="chartOptions.fill"
                            [xaxis]="chartOptions.xaxis"
                            [tooltip]="chartOptions.tooltip"
                            [annotations]="chartOptions.annotations"
                        ></apx-chart>
                        <div *ngIf="!chartOptions" class="loading-chart">
                            Loading chart data...
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- System Info Card -->
            <div class="dashboard-card info-card">
                <div class="card-header">
                    <h4><i class="fas fa-info-circle"></i> System Information</h4>
                </div>
                <div class="card-content">
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Last Maintenance:</span>
                            <span class="info-value">2025-04-15</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Next Inspection:</span>
                            <span class="info-value">2025-07-15</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Operating Hours:</span>
                            <span class="info-value">1,245 hrs</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">System Health:</span>
                            <span class="info-value health-good">Good</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>